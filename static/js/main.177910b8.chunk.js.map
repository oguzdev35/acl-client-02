{"version":3,"sources":["store/ui.js","store/user.js","layouts/LoginLayout.js","components/login/Form.js","components/login/Title.js","components/login/index.js","components/profileedit/ChangeUsername.js","components/profileedit/ChangePassword.js","components/profileedit/index.js","store/departments.js","store/places.js","store/personTagID.js","store/persons.js","components/personeladd/index.js","components/deparmentadd/index.js","components/peopletable/DeleteProfile.js","components/peopletable/EditProfile.js","components/peopletable/index.js","components/departmenttable/DeleteDepartment.js","components/departmenttable/EditDepartment.js","store/doors.js","store/floors.js","store/blocks.js","store/rules.js","components/departmenttable/AddRule.js","components/departmenttable/index.js","components/doortable/index.js","store/logs.js","components/logstable/index.js","layouts/MainLayout.js","App.js","store/index.js","index.js"],"names":["loadingSlice","createSlice","name","initialState","reducers","set","state","action","payload","notificationsSlice","filter","_id","unset","updateApi","userId","createUserObj","jwt","username","email","createdAt","updatedAt","userSlice","Content","Layout","dispatch","useDispatch","className","initialValues","remember","onFinish","values","loginObj","identifier","password","actions","Axios","method","url","headers","data","then","res","user","newUserObj","sessionStorage","setItem","JSON","stringify","catch","err","Item","rules","required","message","prefix","UserOutlined","placeholder","LockOutlined","type","valuePropName","noStyle","href","htmlType","Title","Typography","props","text","Fragment","level","Form","handleChange","size","value","onChange","React","useState","modalText","setModalText","visible","setVisible","confirmLoading","setConfirmLoading","useSelector","setUsername","onClick","title","onOk","newUsername","getState","currentJwt","updatedUserObj","setTimeout","onCancel","ev","target","handleChangePass","handleChangeConf","confirmedPass","setMessage","undefined","setPassword","setConfirmedPass","newPassword","justify","style","marginTop","ChangeUsername","ChangePassword","deleteApi","departmentId","registerDepartmentObj","place","getAllDepartments","departments","departmentsSlice","load","unload","getAllPlaces","places","placesSlice","getAllPersonTags","personTags","personTagIDsSlice","personId","registerPersonObj","firstName","person_tag_id","birthDate","lastName","phone","address","getAllPersons","persons","personsSlice","Option","Select","useForm","form","currentPlace","setCurrentPlace","tags","useEffect","personObj","toDate","newPerson","createPersonObj","resetFields","labelCol","span","wrapperCol","layout","label","allowClear","val","setFieldsValue","map","key","mode","width","optionLabelProp","item","id","person","find","departmentObj","department","newDepartment","people","ModalText","shape","icon","DeleteOutlined","deletePerson","onClose","_person","__person","Object","assign","moment","SettingOutlined","bodyStyle","paddingBottom","footer","textAlign","marginRight","console","log","updatedUser","editPerson","getFieldValue","float","columns","dataIndex","sorter","render","record","index","DeleteProfile","EditProfile","ProfileOutlined","setData","newPersonList","fullname","tableColumns","bordered","loading","pagination","position","showHeader","rowSelection","dataSource","deleteDepartment","_department","__department","updatedDepartment","editDepartment","getAllDoors","doors","doorsSlice","getAllFloors","floors","floorsSlice","getAllBlocks","blocks","blocksSlice","registerRuleObj","dateType","fromDate","fromClock","toClock","daysInWeek","oneDate","register","ruleObj","rule","newRule","rulesSlice","SHOW_PARENT","TreeSelect","DoorSelection","treeData","setTreeData","_newTreeData","_place","forEach","newLevel2","selectable","checkable","children","blockId","block","newLevel1","floorId","floor","newLevel0","push","treeCheckable","showCheckedStrategy","days","DaysInWeekPick","doorValue","setDoorValue","daysValue","setDaysValue","timeValue","setTimeValue","RangePicker","format","newObj","join","getHours","getMinutes","DateRangePick","dateValue","setDateValue","OneDatePick","departmentName","currentView","setCurrentView","ClockCircleOutlined","DeleteDepartment","EditDepartment","AddRule","newDepartmentList","newDoorList","door","_block","logsSlice","logs","newLogList","accessTime","permitted","_floor","status","Header","Sider","SubMenu","Menu","selectedKey","selected","setSelected","handleSelection","keyPath","minHeight","selectedKeys","currentUserId","removeItem","LogoutOutlined","UsergroupAddOutlined","UserAddOutlined","UnorderedListOutlined","GroupOutlined","PlusSquareOutlined","sessionStorageObj","getItem","parse","MainLayout","Component","loginLayout","Login","store","configureStore","reducer","combineReducers","notifications","ReactDOM","locale","trTr","App","document","getElementById"],"mappings":"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","file":"static/js/main.177910b8.chunk.js","sourcesContent":["import {createSlice} from '@reduxjs/toolkit';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\n// helpers\r\nexport const createNotification = ({message, type}) => ({\r\n  _id: uuidv4(), message, type\r\n});\r\n\r\n// Slices\r\nexport const loadingSlice = createSlice({\r\n  name: 'loading',\r\n  initialState: false,\r\n  reducers: {\r\n      set: (state, action) => action.payload,\r\n  }\r\n});\r\n\r\nexport const notificationsSlice = createSlice({\r\n    name: 'notifications',\r\n    initialState: [],\r\n    reducers: {\r\n        set: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id),\r\n            action.payload\r\n        ],\r\n        unset: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id)\r\n        ],\r\n    }\r\n});\r\n","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\n// Api\r\nconst loginApi = '/auth/local';\r\nconst updateApi = (userId) => `/users/${userId}`;\r\n\r\n// helper functions\r\nexport const createUserObj = ({_id, username, email, createdAt, updatedAt}, jwt) => ({\r\n    _id, username, email, jwt, createdAt, updatedAt\r\n});\r\n\r\nexport const createLoginObj = ({username, password}) => ({\r\n    identifier: username, password\r\n});\r\n\r\nexport const createSessioStorageKey = () => `ms-user`;\r\n\r\n// async actions\r\n\r\nexport const login = loginObj => dispatch => {\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'POST',\r\n        url: loginApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n        },\r\n        data: loginObj\r\n    })\r\n    .then( res => {\r\n        const {jwt, user} = res.data;\r\n        const newUserObj = createUserObj({...user}, jwt);\r\n        sessionStorage.setItem(createSessioStorageKey(), JSON.stringify(newUserObj));\r\n        dispatch(loadingSlice.actions.set(false))\r\n        return newUserObj;\r\n    })\r\n    .then( data => dispatch(userSlice.actions.set(data)))\r\n    .catch( err => err);\r\n}\r\n\r\nexport const signout = () => (dispatch, getState) => {\r\n    const currentUserId = getState().user;\r\n    sessionStorage.removeItem(createSessioStorageKey())\r\n    dispatch(userSlice.actions.unset(currentUserId))\r\n}\r\n\r\nexport const changeUsername = newUsername => (dispatch, getState) => {\r\n\r\n    const userId = getState().user._id;\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'PUT',\r\n        url: updateApi(userId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: {\r\n            username: newUsername\r\n        }\r\n    })\r\n        .then( res => {\r\n            const user = res.data;\r\n            const updatedUserObj = createUserObj({...user}, currentJwt);\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return updatedUserObj;   \r\n        })\r\n        .then( data => dispatch(userSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const changePassword = newPassword => (dispatch, getState) => {\r\n\r\n    const userId = getState().user._id;\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'PUT',\r\n        url: updateApi(userId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: {\r\n            password: newPassword\r\n        }\r\n    })\r\n        .then( res => {\r\n            const user = res.data;\r\n            const updatedUserObj = createUserObj({...user}, currentJwt);\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return updatedUserObj;   \r\n        })\r\n        .then( data => dispatch(userSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n// Slice\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState: {},\r\n    reducers: {\r\n        set: (state, action) => ({\r\n            ...state,\r\n            ...action.payload\r\n        }),\r\n        unset: (state, action) => \r\n            state._id === action.payload._id ? {} : state\r\n    }\r\n});\r\n\r\n\r\n","import './loginLayout.less'\r\nimport React from 'react';\r\n\r\nimport { Row, Col, Divider, Layout } from 'antd';\r\n\r\nconst { Content } = Layout;\r\n\r\n\r\nexport default (Component, ...props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Layout>\r\n        <Content>\r\n          s\r\n          <Row justify=\"center\" className=\"main\">\r\n            <Col span={8}>\r\n              <Component {...props}/>\r\n              <Divider  />\r\n            </Col>\r\n          </Row>\r\n        </Content>\r\n      </Layout>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\n","import './form.less'\r\nimport React from 'react';\r\nimport { Form, Input, Button, Checkbox } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\n\r\nimport { createLoginObj, login } from '../../store/user';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nexport default () => {\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  const onFinish = values => {\r\n    dispatch(login(createLoginObj(values)));\r\n\r\n\r\n  };\r\n  \r\n  return (\r\n    <Form\r\n      name=\"normal_login\"\r\n      className=\"login-form\"\r\n      initialValues={{\r\n        remember: true,\r\n      }}\r\n      onFinish={onFinish}\r\n    >\r\n      <Form.Item\r\n        name=\"username\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Lütfen Kullanıcı Adınızı giriniz!',\r\n          },\r\n        ]}\r\n      >\r\n        <Input prefix={<UserOutlined className=\"site-form-item-icon\" />} placeholder=\"Kullanıcı Adı\" />\r\n      </Form.Item>\r\n      <Form.Item\r\n        name=\"password\"\r\n        rules={[\r\n          {\r\n            required: true,\r\n            message: 'Lütfen Şifrenizi giriniz!',\r\n          },\r\n        ]}\r\n      >\r\n        <Input\r\n          prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n          type=\"password\"\r\n          placeholder=\"Şifre\"\r\n        />\r\n      </Form.Item>\r\n      <Form.Item>\r\n        <Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n          <Checkbox>Beni hatırla</Checkbox>\r\n        </Form.Item>\r\n\r\n        <a className=\"login-form-forgot\" href=\"\">\r\n          Şifreyi unuttum\r\n        </a>\r\n      </Form.Item>\r\n\r\n      <Form.Item>\r\n        <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\r\n          Giriş yap\r\n        </Button>\r\n        <div className=\"form-footer\">Eğer kullanıcı adınız yoksa veya giriş yapamıyorsanız yetkili kişiye danışınız!</div>\r\n      </Form.Item>\r\n    </Form>\r\n  );\r\n};","import './title.less'\r\nimport React from 'react';\r\nimport { Typography } from 'antd';\r\n\r\n\r\nconst { Title } = Typography;\r\n\r\nexport default (props) => {\r\n\r\n  const {text} = props;\r\n\r\n  return <React.Fragment>\r\n    <Title level={1} className=\"title-main\">\r\n      {text}\r\n    </Title>\r\n  </React.Fragment>\r\n}","import React from 'react';\r\n\r\nimport Form from './Form';\r\nimport Title from './Title';\r\n\r\nexport default () => {\r\n  return (\r\n    <div>\r\n      <Title text=\"Maksisoft Kapı Kilit Sistemi\"/>\r\n      <Form />\r\n    </div>\r\n  )\r\n};\r\n","import React from 'react';\r\nimport { Modal, Button, Input } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { changeUsername } from '../../store/user';\r\n\r\nconst Content = (props) => {\r\n\r\n  const {username, handleChange} = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Input size=\"large\" value={username} onChange={handleChange} prefix={<UserOutlined />} />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default props => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [modalText, setModalText] = React.useState('')\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\r\n\r\n  const user = useSelector( state => state.user);\r\n  const [username, setUsername] = React.useState(user.username);\r\n\r\n  const handleChange = ev => {\r\n    setUsername(ev.target.value);\r\n  }\r\n\r\n\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  }\r\n\r\n  \r\n  const handleOk = () => {\r\n    setModalText('İşleminiz Kaydediliyor');\r\n    dispatch(changeUsername(username));\r\n    setConfirmLoading(true);\r\n    setTimeout(() => {\r\n      setVisible(false);\r\n      setConfirmLoading(false);\r\n    }, 2000)\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Button type=\"primary\" onClick={showModal}>\r\n        Kullanıcı Adınızı Değiştirin\r\n      </Button>\r\n      <Modal\r\n        title=\"Kullanıcı Adınızı Değiştirin\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{ modalText || <Content handleChange={handleChange} username={username} />}</p>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button, Input } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\n\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { changePassword } from '../../store/user';\r\n\r\nconst Content = (props) => {\r\n\r\n  const {password, handleChangePass, handleChangeConf, confirmedPass} = props;\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Input \r\n        type=\"password\"\r\n        size=\"large\" value={password} onChange={handleChangePass} \r\n        prefix={<UserOutlined />} \r\n      />\r\n      <Input \r\n        type=\"password\"\r\n        size=\"large\" value={confirmedPass} onChange={handleChangeConf} \r\n        prefix={<UserOutlined />} \r\n      />\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default props => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [modalText, setModalText] = React.useState('')\r\n  const [message, setMessage] = React.useState('');\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\r\n\r\n  const [password, setPassword] = React.useState(undefined);\r\n  const [confirmedPass, setConfirmedPass] = React.useState(undefined);\r\n\r\n  const handleChangePass = ev => {\r\n    setPassword(ev.target.value);\r\n  }\r\n\r\n  const handleChangeConf = ev => {\r\n    setConfirmedPass(ev.target.value);\r\n  }\r\n\r\n\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  }\r\n\r\n  \r\n  const handleOk = () => {\r\n    if(!password){\r\n      setMessage('Lütfen yeni şifrenizi giriniz.')\r\n      return;\r\n    }\r\n    if(password !== confirmedPass){\r\n      setMessage('Girdiğiniz şifreler uyuşmuyor. Lütfen kontrol ediniz.');\r\n      return;\r\n    }\r\n    setModalText('İşleminiz Kaydediliyor');\r\n    dispatch(changePassword(password));\r\n    setConfirmLoading(true);\r\n    setTimeout(() => {\r\n      setVisible(false);\r\n      setConfirmLoading(false);\r\n    }, 2000)\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Button type=\"primary\" onClick={showModal}>\r\n        Şifrenizi Değiştirin\r\n      </Button>\r\n      <Modal\r\n        title=\"Şifrenizi Değiştirin\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{ modalText || <Content \r\n          handleChangePass={handleChangePass} \r\n          handleChangeConf={handleChangeConf}\r\n          password={password} \r\n          confirmedPass={confirmedPass}\r\n          />}</p>\r\n        {message}\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react'\r\n\r\nimport ChangeUsername from './ChangeUsername';\r\nimport ChangePassword from './ChangePassword';\r\n\r\nimport { Row, Col } from 'antd';\r\n\r\nexport default (props) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Row  justify=\"space-around\" style={{marginTop: '20vh'}}>\r\n        <Col>\r\n          <ChangeUsername />\r\n        </Col>\r\n      </Row>\r\n      <Row  justify=\"space-around\" style={{marginTop: '5vh'}}>\r\n        <Col>\r\n          <ChangePassword />\r\n        </Col>\r\n      </Row>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\n// Apis\r\nconst getAllApi =  `/departments`;\r\nconst registerApi =  `/departments`;\r\nconst deleteApi = departmentId => `/departments/${departmentId}`;\r\nconst updateApi = departmentId => `/departments/${departmentId}`;\r\n\r\n// helpers\r\nexport const createDepartmentObj = ({_id, name, people, place, createdAt, updatedAt}) => ({\r\n    _id, name, people, place, createdAt, updatedAt\r\n});\r\n\r\nexport const registerDepartmentObj = ({name, place}) => ({\r\n    name, place\r\n});\r\n\r\nexport const register = departmentObj => (dispatch, getState) => {\r\n\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'POST',\r\n        url: registerApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: departmentObj\r\n    })\r\n        .then( res => {\r\n            const department = res.data;\r\n            const newDepartment = createDepartmentObj(department);\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return newDepartment;   \r\n        })\r\n        .then( data => dispatch(departmentsSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n\r\n// Async actions\r\nexport const getAllDepartments = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const departments = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return departments;   \r\n        })\r\n        .then( data => dispatch(departmentsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const deleteDepartment = (departmentId) => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'DELETE',\r\n        url: deleteApi(departmentId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n\r\n            const department = res.data;\r\n            dispatch(loadingSlice.actions.set(false));\r\n            return department;\r\n        })\r\n        .then( data => dispatch(departmentsSlice.actions.unset(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const editDepartment = (departmentId, updatedDepartment) => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'PUT',\r\n        url: updateApi(departmentId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: updatedDepartment\r\n    })\r\n        .then( res => {\r\n\r\n            const department = res.data;\r\n            dispatch(loadingSlice.actions.set(false));\r\n            return department;\r\n        })\r\n        .then( data => dispatch(departmentsSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n\r\nexport const departmentsSlice = createSlice({\r\n    name: 'departments',\r\n    initialState: [],\r\n    reducers: {\r\n        set: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id),\r\n            action.payload\r\n        ],\r\n        unset: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id)\r\n        ],\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\n// Apis\r\nconst getAllApi =  `/places`;\r\n\r\n// helpers\r\nexport const createPlaceObj = ({_id, name, blocks, people, departments, createdAt, updatedAt}) => ({\r\n    _id, name, blocks, people, departments, createdAt, updatedAt\r\n});\r\n\r\n// Async actions\r\nexport const getAllPlaces = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const places = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return places;   \r\n        })\r\n        .then( data => dispatch(placesSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n\r\n// slices\r\nexport const placesSlice = createSlice({\r\n    name: 'places',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\n// Apis\r\nconst getAllApi =  `/person-tag-ids`;\r\n\r\n// Async actions\r\nexport const getAllPersonTags = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const personTags = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return personTags;   \r\n        })\r\n        .then( data => dispatch(personTagIDsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n\r\nexport const personTagIDsSlice = createSlice({\r\n    name: 'person_tag_ids',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\n// Apis\r\nconst registerApi =  `/people`;\r\nconst getAllApi = '/people';\r\nconst deleteApi = (personId) => `/people/${personId}`;\r\nconst updateApi = (personId) => `/people/${personId}`;\r\n\r\n// helpers\r\nexport const createPersonObj = ({_id, firstName, birthDate, person_tag_id, lastName, email, phone, address, departments, place, createdAt, updatedAt}) => ({\r\n    _id, firstName, lastName, email, phone,person_tag_id,  birthDate, address, departments, place, createdAt, updatedAt\r\n});\r\n\r\nexport const registerPersonObj = ({firstName ,person_tag_id,  birthDate, lastName, email, phone, address, departments, place}) => ({\r\n    firstName, lastName, email, phone, person_tag_id,  birthDate, address, departments, place\r\n});\r\n\r\n// Async actions\r\nexport const register = personObj => (dispatch, getState) => {\r\n\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'POST',\r\n        url: registerApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: personObj\r\n    })\r\n        .then( res => {\r\n            const user = res.data;\r\n            const newPerson = createPersonObj(user);\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return newPerson;   \r\n        })\r\n        .then( data => dispatch(personsSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const getAllPersons = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const persons = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return persons;   \r\n        })\r\n        .then( data => dispatch(personsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const deletePerson = (personId) => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'DELETE',\r\n        url: deleteApi(personId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n\r\n            const person = res.data;\r\n            dispatch(loadingSlice.actions.set(false));\r\n            return person;\r\n        })\r\n        .then( data => dispatch(personsSlice.actions.unset(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const editPerson = (personId, updatedUser) => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'PUT',\r\n        url: updateApi(personId),\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n        data: updatedUser\r\n    })\r\n        .then( res => {\r\n\r\n            const person = res.data;\r\n            dispatch(loadingSlice.actions.set(false));\r\n            return person;\r\n        })\r\n        .then( data => dispatch(personsSlice.actions.set(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n// Slices\r\nexport const personsSlice = createSlice({\r\n    name: 'persons',\r\n    initialState: [],\r\n    reducers: {\r\n        set: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id),\r\n            action.payload\r\n        ],\r\n        unset: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id)\r\n        ],\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import './index.less'\r\nimport React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  DatePicker,\r\n  Select\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { getAllDepartments } from '../../store/departments';\r\nimport { getAllPlaces } from '../../store/places';\r\nimport { getAllPersonTags } from '../../store/personTagID';\r\n\r\nimport { register, registerPersonObj, getAllPersons } from '../../store/persons';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nexport default () => {\r\n\r\n  const [form] = Form.useForm();\r\n\r\n  const [currentPlace, setCurrentPlace] = React.useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const departments = useSelector( state => state.departments);\r\n  const places = useSelector( state => state.places);\r\n  const persons = useSelector( state => state.persons);\r\n  const tags = useSelector( state => state.tags);\r\n\r\n\r\n  const onFinish = values => {\r\n    values['birthDate'] = values['birthDate'].toDate()\r\n    dispatch(register(registerPersonObj(values)));\r\n    form.resetFields()\r\n  };\r\n\r\n  const onPlaceChange = (val) => {\r\n    setCurrentPlace(val)\r\n    form.setFieldsValue({\r\n      'person_tag_id': '',\r\n      'departments': []\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getAllPlaces());\r\n    dispatch(getAllPersons());\r\n    dispatch(getAllDepartments());\r\n    dispatch(getAllPersonTags());\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        form={form}\r\n        onFinish={onFinish}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          firstName: '', \r\n          lastName: '', \r\n          email: '', \r\n          phone: '', \r\n          address: ''\r\n        }}\r\n        size=\"default\"\r\n      >\r\n        <Form.Item \r\n          name=\"firstName\"\r\n          label=\"İsim\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Lütfen Personel İsmini giriniz!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"lastName\"\r\n          label=\"Soyisim\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Lütfen Personel Soyismini giriniz!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"birthDate\" \r\n          label=\"Doğum Günü\"\r\n        >\r\n          <DatePicker />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"email\"\r\n          label=\"Email\"\r\n          rules={[\r\n            {\r\n              type: \"email\",\r\n              message: 'Lütfen geçerli bir email adresi giriniz'\r\n            }\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"phone\"\r\n          label=\"Telefon Numarası\"\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item \r\n          name=\"address\"\r\n          label=\"Adres\"\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"place\" label=\"Yer\" rules={[{ required: true }]}>\r\n          <Select\r\n            placeholder=\"Yer Seçiniz\"\r\n            allowClear\r\n            onChange={onPlaceChange}\r\n          >\r\n            {\r\n              places.map(({_id, name}) => {\r\n                return (\r\n                  <Option key={_id} value={_id}>{name}</Option>\r\n                )\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"departments\" label=\"Departmanlar\" rules={[{ required: true }]}>\r\n          <Select\r\n            mode=\"multiple\"\r\n            style={{ width: '100%' }}\r\n            placeholder=\"Lütfen en az bir departman seçiniz\"\r\n            optionLabelProp=\"label\"\r\n          >\r\n          {\r\n            currentPlace != \"\" && departments.filter( item => item.place.id == currentPlace).map( ({_id, name}) => {\r\n              return (\r\n                <Option key={_id} value={_id} label={name}>\r\n                {name}\r\n              </Option>\r\n              )\r\n            })\r\n          }\r\n  \r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item name=\"person_tag_id\" label=\"Personel ID\" rules={[{ required: true }]}>\r\n          <Select\r\n            placeholder=\"Personel IDs seçiniz\"\r\n            allowClear\r\n          >\r\n            {\r\n              currentPlace != \"\" && tags.filter(({_id, person}) => {\r\n\r\n                return !persons.find(({person_tag_id}) => person_tag_id._id == _id);\r\n\r\n              }).map(({_id, label}) => {\r\n                return (\r\n                  <Option key={_id} value={_id}>{label}</Option>\r\n                )\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"form-button-person-add\">\r\n            Kayıtı İşlemini Bitir\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  );\r\n};","import './index.less'\r\nimport React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select\r\n} from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { registerDepartmentObj, register } from '../../store/departments';\r\nimport { getAllPlaces } from '../../store/places';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\n\r\nexport default () => {\r\n\r\n  const [form] = Form.useForm();\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const places = useSelector( state => state.places);\r\n\r\n\r\n  const onFinish = values => {\r\n    dispatch(register(registerDepartmentObj(values)));\r\n    form.resetFields()\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getAllPlaces());\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <>\r\n      <Form\r\n        form={form}\r\n        onFinish={onFinish}\r\n        labelCol={{\r\n          span: 4,\r\n        }}\r\n        wrapperCol={{\r\n          span: 14,\r\n        }}\r\n        layout=\"horizontal\"\r\n        initialValues={{\r\n          name: ''\r\n        }}\r\n        size=\"default\"\r\n      >\r\n        <Form.Item \r\n          name=\"name\"\r\n          label=\"İsim\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: 'Lütfen Departman İsmini giriniz!',\r\n            },\r\n          ]}\r\n        >\r\n          <Input />\r\n        </Form.Item>\r\n        <Form.Item name=\"place\" label=\"Yer\" rules={[{ required: true }]}>\r\n          <Select\r\n            placeholder=\"Yer Seçiniz\"\r\n            allowClear\r\n          >\r\n            {\r\n              places.map(({_id, name}) => {\r\n                return (\r\n                  <Option key={_id} value={_id}>{name}</Option>\r\n                )\r\n              })\r\n            }\r\n          </Select>\r\n        </Form.Item>\r\n        <Form.Item>\r\n          <Button type=\"primary\" htmlType=\"submit\" className=\"form-button-person-add\">\r\n            Kayıtı İşlemini Bitir\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n    </>\r\n  );\r\n};","import React from 'react';\r\nimport { Modal, Button, Tooltip  } from 'antd';\r\nimport { DeleteOutlined} from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deletePerson } from '../../store/persons';\r\n\r\nexport default props => {\r\n\r\n  const { personId } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [ModalText, setModalText] = React.useState('Personeli Silmek istediğinize emin misiniz?');\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\r\n\r\n  \r\n\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n\r\n    setModalText('Silme işlemi gerçekleştiriliyor')\r\n    setConfirmLoading(true);\r\n\r\n    dispatch(deletePerson(personId));\r\n\r\n    setTimeout(() => {\r\n      setConfirmLoading(false);\r\n      setVisible(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Sil\">\r\n        <Button onClick={showModal} type=\"primary\" shape=\"circle\" icon={<DeleteOutlined />} />\r\n      </Tooltip>\r\n      <Modal\r\n        title=\"Personeli Sil\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{ModalText}</p>\r\n      </Modal>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  DatePicker,\r\n  Select, Drawer,\r\n  Tooltip\r\n} from 'antd';\r\nimport { SettingOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport moment from 'moment'\r\n\r\n\r\nimport { getAllDepartments } from '../../store/departments';\r\nimport { getAllPlaces } from '../../store/places';\r\nimport { getAllPersonTags } from '../../store/personTagID';\r\n\r\nimport { registerPersonObj, getAllPersons, editPerson } from '../../store/persons';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nexport default (props) =>  {\r\n  const {personId} = props;\r\n\r\n  const [visible, setVisible] = React.useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n  const [currentPlace, setCurrentPlace] = React.useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const departments = useSelector( state => state.departments);\r\n  const places = useSelector( state => state.places);\r\n  const persons = useSelector( state => state.persons);\r\n  const tags = useSelector( state => state.tags);\r\n\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const onFinish = values => {\r\n    values['birthDate'] = values['birthDate'].toDate()\r\n    console.log(values)\r\n    dispatch(editPerson(personId, registerPersonObj(values)));\r\n    setVisible(false);\r\n  };\r\n\r\n  const onPlaceChange = (val) => {\r\n    setCurrentPlace(val)\r\n    form.setFieldsValue({\r\n      'person_tag_id': '',\r\n      'departments': []\r\n    })\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getAllPlaces());\r\n    dispatch(getAllPersons());\r\n    dispatch(getAllDepartments());\r\n    dispatch(getAllPersonTags());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n    let _person = persons.find(({_id}) => _id === personId);\r\n    if(_person){\r\n      let __person = Object.assign({}, _person);\r\n      __person.birthDate = moment(__person.birthDate);\r\n      __person.departments = __person.departments.map(({_id}) => _id);\r\n      __person.person_tag_id = __person.person_tag_id.label;\r\n      __person.place = __person.place._id;\r\n      form.setFieldsValue(__person)\r\n    }\r\n    setCurrentPlace(_person.place._id);\r\n\r\n  }, [persons])\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Düzenle\">\r\n        <Button type=\"primary\" onClick={showDrawer} shape=\"circle\" icon={<SettingOutlined />} />\r\n      </Tooltip>\r\n      <Drawer\r\n        title=\"Profili Düzenle\"\r\n        width={720}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        bodyStyle={{ paddingBottom: 80 }}\r\n        footer={\r\n          <div\r\n            style={{\r\n              textAlign: 'right',\r\n            }}\r\n          >\r\n            <Button onClick={onClose} style={{ marginRight: 8 }}>\r\n              İptal\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        {visible && <Form\r\n          form={form}\r\n          onFinish={onFinish}\r\n          labelCol={{\r\n            span: 4,\r\n          }}\r\n          wrapperCol={{\r\n            span: 14,\r\n          }}\r\n          layout=\"horizontal\"\r\n          initialValues={{}}\r\n          size=\"default\"\r\n        >\r\n          <Form.Item \r\n            name=\"firstName\"\r\n            label=\"İsim\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Lütfen Personel İsmini giriniz!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item \r\n            name=\"lastName\"\r\n            label=\"Soyisim\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Lütfen Personel Soyismini giriniz!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item \r\n            name=\"birthDate\" \r\n            label=\"Doğum Günü\"\r\n          >\r\n            <DatePicker />\r\n          </Form.Item>\r\n          <Form.Item \r\n            name=\"email\"\r\n            label=\"Email\"\r\n            rules={[\r\n              {\r\n                type: \"email\",\r\n                message: 'Lütfen geçerli bir email adresi giriniz'\r\n              }\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item \r\n            name=\"phone\"\r\n            label=\"Telefon Numarası\"\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item \r\n            name=\"address\"\r\n            label=\"Adres\"\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item name=\"place\" label=\"Yer\" rules={[{ required: true }]}>\r\n            <Select\r\n              placeholder=\"Yer Seçiniz\"\r\n              allowClear\r\n              onChange={onPlaceChange}\r\n            >\r\n              {\r\n                places.map(({_id, name}) => {\r\n                  return (\r\n                    <Option key={_id} value={_id}>{name}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item name=\"departments\" label=\"Departmanlar\" rules={[{ required: true }]}>\r\n            <Select\r\n              mode=\"multiple\"\r\n              style={{ width: '100%' }}\r\n              placeholder=\"Lütfen en az bir departman seçiniz\"\r\n              optionLabelProp=\"label\"\r\n            >\r\n            {\r\n              currentPlace != \"\" && departments.filter( item => item.place.id == currentPlace).map( ({_id, name}) => {\r\n                return (\r\n                  <Option key={_id} value={_id} label={name}>\r\n                  {name}\r\n                </Option>\r\n                )\r\n              })\r\n            }\r\n    \r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item name=\"person_tag_id\" label=\"Personel ID\" rules={[{ required: true }]}>\r\n            <Select\r\n              placeholder=\"Personel IDs seçiniz\"\r\n              allowClear\r\n            >\r\n              {\r\n                form.getFieldValue('departments') != \"\" && tags.filter(({_id, person}) => {\r\n\r\n                  \r\n\r\n                  return !persons.find(({person_tag_id}) => person_tag_id._id == _id);\r\n\r\n                }).map(({_id, label}) => {\r\n\r\n                  return (\r\n                    <Option key={_id} value={_id} label={label}>{label}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" style={{float: 'right'}}>\r\n              Güncelleme işlemini Bitir\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>}\r\n      </Drawer>\r\n    </>\r\n  );\r\n\r\n}","import React from 'react';\r\nimport { Table, Space } from 'antd';\r\nimport { Button, Tooltip } from 'antd';\r\nimport { ProfileOutlined } from '@ant-design/icons';\r\n\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport DeleteProfile from './DeleteProfile';\r\nimport EditProfile from './EditProfile';\r\n\r\n\r\nimport { getAllPersons } from '../../store/persons';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'İsim-Soyisim',\r\n    dataIndex: 'fullname',\r\n  },\r\n  {\r\n    title: 'Yer',\r\n    dataIndex: 'place',\r\n  },\r\n  {\r\n    title: 'Telefon',\r\n    dataIndex: 'phone',\r\n  },\r\n  {\r\n    title: 'İşlem',\r\n    key: 'action',\r\n    sorter: true,\r\n    render: (text, record, index) => {\r\n\r\n      const personId = record.key;\r\n      \r\n      return (\r\n        <Space size=\"middle\">\r\n          <DeleteProfile personId={personId} />\r\n          <EditProfile personId={personId}/>\r\n          <Tooltip title=\"Giriş Kayıtları\">\r\n            <Button type=\"primary\" shape=\"circle\" icon={<ProfileOutlined />} />\r\n          </Tooltip>\r\n        </Space>\r\n      )\r\n    },\r\n  },\r\n];\r\n\r\n\r\nexport default () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const persons = useSelector( state => state.persons);\r\n\r\n  const [data, setData] = React.useState([]);\r\n\r\n  React.useEffect( () => {\r\n\r\n    dispatch(getAllPersons());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n    const newPersonList = persons.map( person => {\r\n      const {\r\n        address, firstName, lastName, phone,\r\n        place, _id\r\n      } = person;\r\n\r\n      const newObj = {\r\n        key: _id,\r\n        fullname: `${firstName} ${lastName}`,\r\n        place: place.name,\r\n        phone: phone\r\n      }\r\n\r\n      return newObj;\r\n\r\n    } )\r\n    setData(newPersonList)\r\n  }, [persons]);\r\n\r\n  const tableColumns = columns.map(item => ({ ...item }));\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered={true}\r\n        loading={false}\r\n        pagination={{ position: ['bottomCenter'] }}\r\n        size=\"middle\"\r\n        title={() => \"This is title\"}\r\n        showHeader={true}\r\n        footer={() =>\"This is footer\"}\r\n        rowSelection={{}}\r\n        columns={tableColumns}\r\n        dataSource={data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Modal, Button, Tooltip  } from 'antd';\r\nimport { DeleteOutlined} from '@ant-design/icons';\r\nimport { useDispatch } from 'react-redux';\r\n\r\nimport { deleteDepartment } from '../../store/departments';\r\n\r\nexport default props => {\r\n\r\n  const { departmentId } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [ModalText, setModalText] = React.useState('Departmanı Silmek istediğinize emin misiniz?');\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [confirmLoading, setConfirmLoading] = React.useState(false);\r\n\r\n  \r\n\r\n  const showModal = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const handleOk = () => {\r\n\r\n    setModalText('Silme işlemi gerçekleştiriliyor')\r\n    setConfirmLoading(true);\r\n\r\n    dispatch(deleteDepartment(departmentId));\r\n\r\n    setTimeout(() => {\r\n      setConfirmLoading(false);\r\n      setVisible(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Sil\">\r\n        <Button onClick={showModal} type=\"primary\" shape=\"circle\" icon={<DeleteOutlined />} />\r\n      </Tooltip>\r\n      <Modal\r\n        title=\"Deparmanı Sil\"\r\n        visible={visible}\r\n        onOk={handleOk}\r\n        confirmLoading={confirmLoading}\r\n        onCancel={handleCancel}\r\n      >\r\n        <p>{ModalText}</p>\r\n      </Modal>\r\n    </>\r\n  );\r\n}","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select, Drawer,\r\n  Tooltip\r\n} from 'antd';\r\nimport { SettingOutlined } from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\n\r\nimport { registerDepartmentObj, editDepartment, getAllDepartments } from '../../store/departments';\r\nimport { getAllPlaces } from '../../store/places';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nexport default (props) =>  {\r\n  const {departmentId} = props;\r\n\r\n  const [visible, setVisible] = React.useState(false);\r\n\r\n  const [form] = Form.useForm();\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const places = useSelector( state => state.places);\r\n  const departments = useSelector( state => state.departments);\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const onFinish = values => {\r\n    dispatch(editDepartment(departmentId, registerDepartmentObj(values)));\r\n    form.resetFields()\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getAllPlaces());\r\n    dispatch(getAllDepartments());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n    let _department = departments.find(({_id}) => _id === departmentId);\r\n    if(_department){\r\n      let __department = Object.assign({}, _department);\r\n      __department.place = __department.place._id;\r\n      form.setFieldsValue(__department)\r\n    }\r\n\r\n  }, [departments])\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Düzenle\">\r\n        <Button type=\"primary\" onClick={showDrawer} shape=\"circle\" icon={<SettingOutlined />} />\r\n      </Tooltip>\r\n      <Drawer\r\n        title=\"Profili Düzenle\"\r\n        width={720}\r\n        onClose={onClose}\r\n        visible={visible}\r\n        bodyStyle={{ paddingBottom: 80 }}\r\n        footer={\r\n          <div\r\n            style={{\r\n              textAlign: 'right',\r\n            }}\r\n          >\r\n            <Button onClick={onClose} style={{ marginRight: 8 }}>\r\n              İptal\r\n            </Button>\r\n          </div>\r\n        }\r\n      >\r\n        {visible && \r\n          <Form\r\n          form={form}\r\n          onFinish={onFinish}\r\n          labelCol={{\r\n            span: 4,\r\n          }}\r\n          wrapperCol={{\r\n            span: 14,\r\n          }}\r\n          layout=\"horizontal\"\r\n          initialValues={{\r\n            name: ''\r\n          }}\r\n          size=\"default\"\r\n        >\r\n          <Form.Item \r\n            name=\"name\"\r\n            label=\"İsim\"\r\n            rules={[\r\n              {\r\n                required: true,\r\n                message: 'Lütfen Departman İsmini giriniz!',\r\n              },\r\n            ]}\r\n          >\r\n            <Input />\r\n          </Form.Item>\r\n          <Form.Item name=\"place\" label=\"Yer\" rules={[{ required: true }]}>\r\n            <Select\r\n              placeholder=\"Yer Seçiniz\"\r\n              allowClear\r\n            >\r\n              {\r\n                places.map(({_id, name}) => {\r\n                  return (\r\n                    <Option key={_id} value={_id}>{name}</Option>\r\n                  )\r\n                })\r\n              }\r\n            </Select>\r\n          </Form.Item>\r\n          <Form.Item>\r\n            <Button type=\"primary\" htmlType=\"submit\" className=\"form-button-person-add\">\r\n              Kayıtı İşlemini Bitir\r\n            </Button>\r\n          </Form.Item>\r\n        </Form>\r\n        }\r\n      </Drawer>\r\n    </>\r\n  );\r\n\r\n}","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\nconst getAllApi =  `/doors`;\r\n\r\n// helpers\r\nexport const createDoorObj = ({_id, name, floor, createdAt, updatedAt}) => ({\r\n    _id, name, floor, createdAt, updatedAt\r\n});\r\n\r\n// Async actions\r\nexport const getAllDoors = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const doors = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return doors;   \r\n        })\r\n        .then( data => dispatch(doorsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\n\r\nexport const doorsSlice = createSlice({\r\n    name: 'doors',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\nconst getAllApi =  `/floors`;\r\n\r\nexport const createFloorObj = ({_id, name, doors, block, createdAt, updatedAt}) => ({\r\n    _id, name, doors, block, createdAt, updatedAt\r\n});\r\n\r\n// Async actions\r\nexport const getAllFloors = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const floors = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return floors;   \r\n        })\r\n        .then( data => dispatch(floorsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const floorsSlice = createSlice({\r\n    name: 'floors',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\nconst getAllApi =  `/blocks`;\r\n\r\nexport const createFloorObj = ({_id, name, floors, place, createdAt, updatedAt}) => ({\r\n    _id, name, floors, place, createdAt, updatedAt\r\n});\r\n\r\n\r\nexport const getAllBlocks = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const blocks = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return blocks;   \r\n        })\r\n        .then( data => dispatch(blocksSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const blocksSlice = createSlice({\r\n    name: 'blocks',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\nconst getAllApi =  `/rules`;\r\nconst registerApi = `/rules`;\r\n\r\n// helpers\r\nexport const createRuleObj = ({_id, department, doors, dateType, fromDate, toDate, fromClock, toClock, daysInWeek, oneDate, createdAt, updatedAt}) => ({\r\n  _id, department, doors, dateType, fromDate, toDate, fromClock, toClock, daysInWeek, oneDate, createdAt, updatedAt\r\n});\r\n\r\nexport const registerRuleObj = ({department, doors, dateType, fromDate, toDate, fromClock, toClock, daysInWeek, oneDate}) => ({\r\n  department, doors, dateType, fromDate, toDate, fromClock, toClock, daysInWeek, oneDate\r\n});\r\n\r\n// Async actions\r\nexport const getAllRules = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const rules = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return rules;   \r\n        })\r\n        .then( data => dispatch(rulesSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const register = ruleObj => (dispatch, getState) => {\r\n\r\n  const currentJwt = getState().user.jwt;\r\n\r\n  dispatch(loadingSlice.actions.set(true));\r\n\r\n  return Axios({\r\n      method: 'POST',\r\n      url: registerApi,\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Accept': 'application/json',\r\n          'Authorization': `Bearer ${currentJwt}`\r\n      },\r\n      data: ruleObj\r\n  })\r\n      .then( res => {\r\n          const rule = res.data;\r\n          const newRule = createRuleObj(rule);\r\n          dispatch(loadingSlice.actions.set(false))\r\n          return newRule;   \r\n      })\r\n      .then( data => dispatch(rulesSlice.actions.set(data)))\r\n      .catch( err => err);\r\n}\r\n\r\nexport const rulesSlice = createSlice({\r\n    name: 'rules',\r\n    initialState: [],\r\n    reducers: {\r\n        set: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id),\r\n            action.payload\r\n        ],\r\n        unset: (state, action) => [\r\n            ...state.filter(({_id}) => _id !== action.payload._id)\r\n        ],\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import React from 'react';\r\nimport {\r\n  Form,\r\n  Input,\r\n  Button,\r\n  Select, Drawer,\r\n  Tooltip,\r\n  Space,\r\n  TreeSelect,\r\n  TimePicker,\r\n  DatePicker\r\n} from 'antd';\r\n\r\nimport { ClockCircleOutlined} from '@ant-design/icons';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { getAllDoors } from '../../store/doors';\r\nimport { getAllFloors } from '../../store/floors';\r\nimport { getAllBlocks } from '../../store/blocks';\r\nimport { getAllPlaces } from '../../store/places';\r\n\r\nimport { register, registerRuleObj } from '../../store/rules';\r\n\r\nconst { Option } = Select;\r\n\r\n\r\nconst { SHOW_PARENT } = TreeSelect;\r\n\r\nconst DoorSelection = props => {\r\n\r\n  const { value, onChange, departmentId } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const doors = useSelector( state => state.doors);\r\n  const floors = useSelector( state => state.floors);\r\n  const blocks = useSelector( state => state.blocks);\r\n  const places = useSelector( state => state.places);\r\n\r\n  const [treeData, setTreeData] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    dispatch(getAllDoors());\r\n    dispatch(getAllFloors());\r\n    dispatch(getAllBlocks());\r\n    dispatch(getAllPlaces());\r\n  }, [])\r\n\r\n  React.useEffect(() => {\r\n    if(doors && floors && blocks && places){\r\n\r\n      const _newTreeData = [];\r\n\r\n      const _place = places.find( ({departments}) => {\r\n        return departments.find(({_id}) => _id == departmentId)\r\n      });\r\n\r\n      blocks.forEach(({_id, name, place}) => {\r\n\r\n        if(_place._id == place._id){\r\n\r\n          const newLevel2 = {\r\n            title: name,\r\n            value: _id,\r\n            key: _id,\r\n            selectable: false,\r\n            checkable: false,\r\n            children: []\r\n          };\r\n\r\n          const blockId = _id;\r\n\r\n          floors.forEach(({_id, name, block}) => {\r\n            if(block._id == blockId){\r\n\r\n              const newLevel1 = {\r\n                title: name,\r\n                value: _id,\r\n                key: _id,\r\n                selectable: false,\r\n                checkable: false,\r\n                children: []\r\n              };\r\n\r\n              const floorId = _id\r\n\r\n              doors.forEach(({_id, name, floor}) => {\r\n                if(floor._id == floorId){\r\n\r\n                  const newLevel0 = {\r\n                    title: name,\r\n                    value: _id,\r\n                    key: _id,\r\n                  }\r\n\r\n                  newLevel1.children.push(newLevel0);\r\n\r\n                }\r\n              });\r\n\r\n              newLevel2.children.push(newLevel1);\r\n\r\n            }\r\n          });\r\n\r\n          _newTreeData.push(newLevel2);\r\n\r\n        }\r\n\r\n\r\n      })\r\n\r\n      setTreeData(_newTreeData);\r\n    }\r\n  }, [doors, floors, blocks, places])\r\n\r\n  return (\r\n    <>\r\n      <div>Lütfen Kapıları Seçiniz</div>\r\n      <TreeSelect\r\n        treeData={treeData}\r\n        value={value}\r\n        onChange={onChange}\r\n        treeCheckable={true}\r\n        showCheckedStrategy={SHOW_PARENT}\r\n        placeholder=\"Lütfen Seçiniz\"\r\n        style={{width: '100%'}}\r\n      />\r\n    </>\r\n  )\r\n}\r\n\r\nconst days =  [\r\n  {val: 1, label: 'Pazartesi'},\r\n  {val: 2, label: 'Salı'},\r\n  {val: 3, label: 'Çarşamba'},\r\n  {val: 4, label: 'Perşembe'},\r\n  {val: 5, label: 'Cuma'},\r\n  {val: 6, label: 'Cumartes'},\r\n  {val: 7, label: 'Pazar'},\r\n]\r\n\r\nconst DaysInWeekPick = props => {\r\n\r\n  const { departmentId, onClose } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [doorValue, setDoorValue] = React.useState(undefined);\r\n  const [daysValue, setDaysValue] = React.useState(undefined);\r\n  const [timeValue, setTimeValue] = React.useState(undefined);\r\n\r\n  const handleDoorChange = value => {\r\n    setDoorValue(value);\r\n  };\r\n\r\n  const handleDaysChange = value => {\r\n    setDaysValue(value);\r\n  };\r\n\r\n  const handleTimeChange = value => {\r\n    setTimeValue(value);\r\n  }\r\n\r\n  const onRegister = () => {\r\n    const newObj = {\r\n      department: departmentId,\r\n      doors: doorValue,\r\n      dateType: \"1\",\r\n      daysInWeek: daysValue.join(','),\r\n      fromClock: `${timeValue[0].toDate().getHours()}:${timeValue[0].toDate().getMinutes()}`,\r\n      toClock: `${timeValue[1].toDate().getHours()}:${timeValue[1].toDate().getMinutes()}`\r\n    }\r\n    dispatch(register(registerRuleObj(newObj)));\r\n    onClose();\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <DoorSelection \r\n          departmentId={departmentId}\r\n          value={doorValue} onChange={handleDoorChange} \r\n        />\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{marginTop: '1vh'}}\r\n        >\r\n          Lütfen Gün Seçiniz\r\n        </div>\r\n        <Select\r\n          mode=\"tags\"\r\n          style={{width: '100%'}}\r\n          placeholder=\"Gün seçiniz\"\r\n          onChange={handleDaysChange}\r\n        >\r\n          {\r\n            days.map(({val, label}) => (\r\n              <Option key={val}>{label}</Option>\r\n            ))\r\n          }\r\n        </Select>\r\n      </div>\r\n      <div>\r\n        <div>Lütfen Saat Seçiniz</div>\r\n        <TimePicker.RangePicker format=\"HH:mm\" onChange={handleTimeChange} value={timeValue} />\r\n      </div>\r\n      <div>\r\n        <Button \r\n          onClick={onClose}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          İptal\r\n        </Button>\r\n        <Button \r\n          onClick={onRegister}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          Kaydet\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst DateRangePick = props => {\r\n  \r\n  const { departmentId, onClose } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [doorValue, setDoorValue] = React.useState(undefined);\r\n  const [dateValue, setDateValue] = React.useState(undefined);\r\n  const [timeValue, setTimeValue] = React.useState(undefined);\r\n\r\n  const handleDoorChange = value => {\r\n    setDoorValue(value);\r\n  };\r\n\r\n  const handleDateChange = value => {\r\n    setDateValue(value);\r\n  };\r\n\r\n  const handleTimeChange = value => {\r\n    setTimeValue(value);\r\n  }\r\n\r\n  const onRegister = () => {\r\n    const newObj = {\r\n      department: departmentId,\r\n      doors: doorValue,\r\n      dateType: \"2\",\r\n      fromDate: dateValue[0].toDate(),\r\n      toDate: dateValue[1].toDate(),\r\n      fromClock: `${timeValue[0].toDate().getHours()}:${timeValue[0].toDate().getMinutes()}`,\r\n      toClock: `${timeValue[1].toDate().getHours()}:${timeValue[1].toDate().getMinutes()}`\r\n    }\r\n    dispatch(register(registerRuleObj(newObj)));\r\n    onClose();\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <DoorSelection \r\n          departmentId={departmentId}\r\n          value={doorValue} onChange={handleDoorChange} \r\n        />\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{marginTop: '1vh'}}\r\n        >\r\n          Lütfen Tarih Aralığı Seçiniz\r\n        </div>\r\n        <DatePicker.RangePicker format=\"YYYY/MM/DD\" onChange={handleDateChange} value={dateValue} />\r\n      </div>\r\n      <div>\r\n        <div>Lütfen Saat Seçiniz</div>\r\n        <TimePicker.RangePicker format=\"HH:mm\" onChange={handleTimeChange} value={timeValue} />\r\n      </div>\r\n      <div>\r\n        <Button \r\n          onClick={onClose}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          İptal\r\n        </Button>\r\n        <Button \r\n          onClick={onRegister}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          Kaydet\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst OneDatePick = props => {\r\n  \r\n  const { departmentId, onClose } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const [doorValue, setDoorValue] = React.useState(undefined);\r\n  const [dateValue, setDateValue] = React.useState(undefined);\r\n  const [timeValue, setTimeValue] = React.useState(undefined);\r\n\r\n  const handleDoorChange = value => {\r\n    setDoorValue(value);\r\n  };\r\n\r\n  const handleDateChange = value => {\r\n    setDateValue(value);\r\n  };\r\n\r\n  const handleTimeChange = value => {\r\n    setTimeValue(value);\r\n  }\r\n\r\n  const onRegister = () => {\r\n    const newObj = {\r\n      department: departmentId,\r\n      doors: doorValue,\r\n      dateType: \"3\",\r\n      oneDate: dateValue.toDate(),\r\n      fromClock: `${timeValue[0].toDate().getHours()}:${timeValue[0].toDate().getMinutes()}`,\r\n      toClock: `${timeValue[1].toDate().getHours()}:${timeValue[1].toDate().getMinutes()}`\r\n    }\r\n    dispatch(register(registerRuleObj(newObj)));\r\n    onClose();\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <div>\r\n        <DoorSelection \r\n          departmentId={departmentId}\r\n          value={doorValue} onChange={handleDoorChange} \r\n        />\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{marginTop: '1vh'}}\r\n        >\r\n          Lütfen Tarih Aralığı Seçiniz\r\n        </div>\r\n        <DatePicker format=\"YYYY/MM/DD\" onChange={handleDateChange} value={dateValue} />\r\n      </div>\r\n      <div>\r\n        <div>Lütfen Saat Seçiniz</div>\r\n        <TimePicker.RangePicker format=\"HH:mm\" onChange={handleTimeChange} value={timeValue} />\r\n      </div>\r\n      <div>\r\n        <Button \r\n          onClick={onClose}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          İptal\r\n        </Button>\r\n        <Button \r\n          onClick={onRegister}\r\n          style={{ marginRight: 8, marginTop: '50vh', float: 'right'}}\r\n        >\r\n          Kaydet\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default (props) =>  {\r\n  const {departmentId, departmentName} = props;\r\n  const [visible, setVisible] = React.useState(false);\r\n  const [currentView, setCurrentView] = React.useState(0);\r\n\r\n  const showDrawer = () => {\r\n    setVisible(true);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setVisible(false);\r\n  };\r\n\r\n  const handleChange = (val) => {\r\n    setCurrentView(val)\r\n  }\r\n\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title=\"Kural Ekle\">\r\n        <Button type=\"primary\" onClick={showDrawer} shape=\"circle\" icon={<ClockCircleOutlined />} />\r\n      </Tooltip>\r\n      <Drawer\r\n        title={`Departman ${departmentName} için kural ekle`}\r\n        width=\"70vw\"\r\n        onClose={onClose}\r\n        visible={visible}\r\n        bodyStyle={{ paddingBottom: 80 }}\r\n      >\r\n        <div>\r\n          {visible && \r\n            <Select onChange={handleChange} placeholder=\"Lütfen Kural Ekleme yöntemi seçiniz\">\r\n              <Option value=\"1\">Haftanın belirli günlerini seç</Option>\r\n              <Option value=\"2\">Bir tarih aralığı seç</Option>\r\n              <Option value=\"3\">Belirli bir tarih seç</Option>\r\n            </Select>\r\n          }\r\n        </div>\r\n        <br />\r\n        {currentView === \"1\" && <DaysInWeekPick departmentId={departmentId} onClose={onClose}/>}\r\n        {currentView === \"2\" && <DateRangePick departmentId={departmentId} onClose={onClose}/>}\r\n        {currentView === \"3\" && <OneDatePick departmentId={departmentId} onClose={onClose}/>}\r\n      </Drawer>\r\n    </>\r\n  );\r\n\r\n}","import React from 'react';\r\nimport { Table, Space } from 'antd';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport DeleteDepartment from './DeleteDepartment';\r\nimport EditDepartment from './EditDepartment';\r\nimport AddRule from './AddRule';\r\n\r\n\r\nimport { getAllDepartments } from '../../store/departments';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Departman',\r\n    dataIndex: 'name',\r\n  },\r\n  {\r\n    title: 'Yer',\r\n    dataIndex: 'place',\r\n  },\r\n  {\r\n    title: 'İşlem',\r\n    key: 'action',\r\n    sorter: true,\r\n    render: (text, record, index) => {\r\n\r\n      const departmentId = record.key;\r\n      const departmentName = record.name;\r\n      \r\n      return (\r\n        <Space size=\"middle\">\r\n          <DeleteDepartment departmentId={departmentId} />\r\n          <EditDepartment departmentId={departmentId} />\r\n          <AddRule departmentId={departmentId} departmentName={departmentName} />\r\n        </Space>\r\n      )\r\n    },\r\n  },\r\n];\r\n\r\n\r\nexport default () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const departments = useSelector( state => state.departments);\r\n\r\n  const [data, setData] = React.useState([]);\r\n\r\n  React.useEffect( () => {\r\n\r\n    dispatch(getAllDepartments());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n    const newDepartmentList = departments.map( department => {\r\n      const {\r\n        name,\r\n        place, _id\r\n      } = department;\r\n\r\n      const newObj = {\r\n        key: _id,\r\n        name: name,\r\n        place: place.name\r\n      }\r\n\r\n      return newObj;\r\n\r\n    } )\r\n    setData(newDepartmentList)\r\n  }, [departments]);\r\n\r\n  const tableColumns = columns.map(item => ({ ...item }));\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered={true}\r\n        loading={false}\r\n        pagination={{ position: ['bottomCenter'] }}\r\n        size=\"middle\"\r\n        title={() => \"This is title\"}\r\n        showHeader={true}\r\n        footer={() =>\"This is footer\"}\r\n        rowSelection={{}}\r\n        columns={tableColumns}\r\n        dataSource={data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { Table, Space } from 'antd';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { getAllDoors } from '../../store/doors';\r\nimport { getAllFloors } from '../../store/floors';\r\nimport { getAllBlocks } from '../../store/blocks';\r\nimport { getAllPlaces } from '../../store/places';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Kapı',\r\n    dataIndex: 'door',\r\n  },\r\n  {\r\n    title: 'Kat',\r\n    dataIndex: 'floor',\r\n  },\r\n  {\r\n    title: 'Blok',\r\n    dataIndex: 'block',\r\n  },\r\n  {\r\n    title: 'Yer',\r\n    dataIndex: 'place',\r\n  },\r\n\r\n  {\r\n    title: 'İşlem',\r\n    key: 'action',\r\n    sorter: true,\r\n    render: (text, record, index) => {\r\n\r\n      const doorId = record.key;\r\n      \r\n      return (\r\n        <Space size=\"middle\">\r\n          \r\n        </Space>\r\n      )\r\n    },\r\n  },\r\n];\r\n\r\n\r\nexport default () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const doors = useSelector( state => state.doors);\r\n  const floors = useSelector( state => state.floors);\r\n  const blocks = useSelector( state => state.blocks);\r\n  const places = useSelector( state => state.places);\r\n\r\n  const [data, setData] = React.useState([]);\r\n\r\n  React.useEffect( () => {\r\n    dispatch(getAllPlaces());\r\n    dispatch(getAllBlocks());\r\n    dispatch(getAllFloors());\r\n    dispatch(getAllDoors());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n    const newDoorList = doors.map( door => {\r\n      const {\r\n        name, floor, _id\r\n      } = door;\r\n\r\n\r\n      const _block = blocks.find(({_id}) => _id == floor.block);\r\n\r\n      const _place = places.find(({_id}) => _id == _block.place._id);\r\n\r\n      const newObj = {\r\n        key: _id,\r\n        door: name,\r\n        floor: floor.name,\r\n        block: _block.name,\r\n        place: _place.name\r\n      };\r\n\r\n\r\n      return newObj;\r\n\r\n    } )\r\n    setData(newDoorList)\r\n  }, [doors]);\r\n\r\n  const tableColumns = columns.map(item => ({ ...item }));\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered={true}\r\n        loading={false}\r\n        pagination={{ position: ['bottomCenter'] }}\r\n        size=\"middle\"\r\n        title={() => \"This is title\"}\r\n        showHeader={true}\r\n        footer={() =>\"This is footer\"}\r\n        rowSelection={{}}\r\n        columns={tableColumns}\r\n        dataSource={data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import {createSlice} from '@reduxjs/toolkit';\r\nimport Axios from 'axios';\r\nimport { \r\n    loadingSlice,\r\n} from './ui';\r\n\r\nconst getAllApi =  `/logs`;\r\n\r\nexport const createLogObj = ({_id, door, person, accessTime, permitted, createdAt, updatedAt}) => ({\r\n  _id, door, person, accessTime, permitted, createdAt, updatedAt\r\n});\r\n\r\n\r\nexport const getAllLogs = () => (dispatch, getState) => {\r\n    const currentJwt = getState().user.jwt;\r\n\r\n    dispatch(loadingSlice.actions.set(true));\r\n\r\n    return Axios({\r\n        method: 'GET',\r\n        url: getAllApi,\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Accept': 'application/json',\r\n            'Authorization': `Bearer ${currentJwt}`\r\n        },\r\n    })\r\n        .then( res => {\r\n            const blocks = res.data;\r\n            dispatch(loadingSlice.actions.set(false))\r\n            return blocks;   \r\n        })\r\n        .then( data => dispatch(logsSlice.actions.load(data)))\r\n        .catch( err => err);\r\n}\r\n\r\nexport const logsSlice = createSlice({\r\n    name: 'logs',\r\n    initialState: [],\r\n    reducers: {\r\n        load: (state, action) => [\r\n            ...action.payload\r\n        ],\r\n        unload: (state, action) => []\r\n    }\r\n});","import React from 'react';\r\nimport { Table, Space } from 'antd';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { getAllDoors } from '../../store/doors';\r\nimport { getAllFloors } from '../../store/floors';\r\nimport { getAllBlocks } from '../../store/blocks';\r\nimport { getAllPlaces } from '../../store/places';\r\nimport { getAllLogs } from '../../store/logs';\r\nimport { getAllPersons } from '../../store/persons';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'Kişi',\r\n    dataIndex: 'person',\r\n  },\r\n  {\r\n    title: 'Kapı',\r\n    dataIndex: 'door',\r\n  },\r\n  {\r\n    title: 'Kat',\r\n    dataIndex: 'floor',\r\n  },\r\n  {\r\n    title: 'Blok',\r\n    dataIndex: 'block',\r\n  },\r\n  {\r\n    title: 'Yer',\r\n    dataIndex: 'place',\r\n  },\r\n  {\r\n    title: 'Giriş zamanı',\r\n    dataIndex: 'accessTime',\r\n  },\r\n  {\r\n    title: 'Durum',\r\n    dataIndex: 'status',\r\n  },\r\n];\r\n\r\n\r\nexport default () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const doors = useSelector( state => state.doors);\r\n  const floors = useSelector( state => state.floors);\r\n  const blocks = useSelector( state => state.blocks);\r\n  const places = useSelector( state => state.places);\r\n  const persons = useSelector( state => state.persons);\r\n  const logs = useSelector( state => state.logs);\r\n\r\n  const [data, setData] = React.useState([]);\r\n\r\n  React.useEffect( () => {\r\n    dispatch(getAllPlaces());\r\n    dispatch(getAllBlocks());\r\n    dispatch(getAllFloors());\r\n    dispatch(getAllDoors());\r\n    dispatch(getAllPersons());\r\n    dispatch(getAllLogs());\r\n  }, [])\r\n\r\n  React.useEffect( () => {\r\n\r\n    const newLogList = logs.map( log  => {\r\n        const {\r\n          _id, accessTime, person, door, permitted\r\n        } = log;\r\n\r\n        const _floor = floors.find(({_id}) => _id == door.floor);\r\n\r\n        const _block = blocks.find(({_id}) => _id == _floor.block._id);\r\n\r\n        const _place = places.find(({_id}) => _id == _block.place._id);\r\n\r\n        const newObj = {\r\n          key: _id,\r\n          accessTime: accessTime,\r\n          person: `${person.firstName} ${person.lastName}`,\r\n          door: door.name,\r\n          floor: _floor.name,\r\n          block: _block.name,\r\n          place: _place.name,\r\n          status: permitted ? 'İzin verildi' : 'İzin verilmedi',\r\n        }\r\n\r\n        return newObj;\r\n      })\r\n\r\n      setData(newLogList);\r\n\r\n  }, [logs]);\r\n\r\n  const tableColumns = columns.map(item => ({ ...item }));\r\n\r\n  return (\r\n    <>\r\n      <Table\r\n        bordered={true}\r\n        loading={false}\r\n        pagination={{ position: ['bottomCenter'] }}\r\n        size=\"middle\"\r\n        title={() => \"This is title\"}\r\n        showHeader={true}\r\n        footer={() =>\"This is footer\"}\r\n        rowSelection={{}}\r\n        columns={tableColumns}\r\n        dataSource={data}\r\n      />\r\n    </>\r\n  );\r\n}\r\n","import './mainLayout.less'\r\nimport React from 'react';\r\nimport {\r\n  UserOutlined,\r\n  UsergroupAddOutlined,\r\n  LogoutOutlined,\r\n  SettingOutlined,\r\n  UserAddOutlined,\r\n  UnorderedListOutlined,\r\n  GroupOutlined,\r\n  PlusSquareOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { useDispatch } from 'react-redux';\r\nimport { Layout, Menu } from 'antd';\r\n\r\nimport { signout } from '../store/user';\r\n\r\nimport ProfileEdit from '../components/profileedit'\r\nimport PersonelAdd from '../components/personeladd';\r\nimport DepartmentAdd from '../components/deparmentadd';\r\nimport PeopleList from '../components/peopletable';\r\nimport DepartmentList from '../components/departmenttable';\r\nimport DoorList from '../components/doortable';\r\nimport LogsList from '../components/logstable';\r\n\r\n\r\nconst { Header, Sider } = Layout;\r\nconst { SubMenu } = Menu;\r\n\r\nconst Content = (props) => {\r\n\r\n  const {selectedKey} = props;\r\n\r\n  switch(selectedKey){\r\n    case \"1\":\r\n      return <Layout.Content><ProfileEdit /></Layout.Content>;\r\n    case \"3\":\r\n      return <Layout.Content><PersonelAdd /></Layout.Content>;\r\n    case \"4\":\r\n      return <Layout.Content><PeopleList /></Layout.Content>;\r\n    case \"5\":\r\n      return <Layout.Content><DepartmentAdd /></Layout.Content>;\r\n    case \"6\":\r\n      return <Layout.Content><DepartmentList /></Layout.Content>;\r\n    case \"7\":\r\n      return <Layout.Content><DoorList /></Layout.Content>;\r\n    case \"8\":\r\n      return <Layout.Content><LogsList /></Layout.Content>;\r\n    default:\r\n      return <Layout.Content>Bilinmeyen bir sayfa</Layout.Content>;\r\n  }\r\n}\r\n\r\n\r\nexport default (props) => {\r\n\r\n  const dispatch = useDispatch();\r\n  const [selected, setSelected] = React.useState(['1']);\r\n\r\n  const handleSelection = ({keyPath}) => {\r\n    setSelected(keyPath);\r\n  }\r\n\r\n  const handleSignout = () => {\r\n    dispatch(signout())\r\n  }\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Layout>\r\n        <Header>\r\n            <div className=\"title-header\">\r\n              MAKSİSOFT KAPI KİLİT SİSTEMİ\r\n            </div>\r\n          <Menu>\r\n            <Menu.Item>\r\n\r\n            </Menu.Item>\r\n          </Menu>\r\n        </Header>\r\n        <Layout>\r\n          <Sider style={{ minHeight: '100vh' }} >\r\n              <Menu style={{ minHeight: '100vh' }} selectedKeys={selected} mode=\"inline\">\r\n                <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"Profil\">\r\n                  <Menu.Item onClick={handleSelection} key=\"1\" icon={<SettingOutlined />}>Profil Düzenle</Menu.Item>\r\n                  <Menu.Item onClick={handleSignout} key=\"2\"icon={<LogoutOutlined />}>Çıkış Yap</Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub2\" icon={<UsergroupAddOutlined />} title=\"Personeller\">\r\n                  <Menu.Item onClick={handleSelection} key=\"3\" icon={<UserAddOutlined />}>Personel Ekle</Menu.Item>\r\n                  <Menu.Item onClick={handleSelection} key=\"4\" icon={<UnorderedListOutlined />}>Personel Listesi</Menu.Item>\r\n                </SubMenu>\r\n                <SubMenu key=\"sub3\" icon={<GroupOutlined />} title=\"Departmanlar\">\r\n                  <Menu.Item onClick={handleSelection} key=\"5\" icon={<PlusSquareOutlined />}>Departman Ekle</Menu.Item>\r\n                  <Menu.Item onClick={handleSelection} key=\"6\" icon={<UnorderedListOutlined />}>Departman Listesi</Menu.Item>\r\n                </SubMenu>\r\n                <Menu.Item onClick={handleSelection} key=\"7\" icon={<UnorderedListOutlined />}>Kapı Listesi</Menu.Item>\r\n                <Menu.Item onClick={handleSelection} key=\"8\" icon={<UnorderedListOutlined />}>Giriş Kayıtları</Menu.Item>\r\n              </Menu>\r\n            </Sider>\r\n            <Content selectedKey={selected[0]} />\r\n        </Layout>\r\n      </Layout>\r\n    </React.Fragment>\r\n  )\r\n}\r\n","import 'antd/dist/antd.less';\r\nimport 'antd/lib/style/themes/default.less';\r\nimport './app.less'\r\nimport React from 'react';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { userSlice, createSessioStorageKey } from './store/user';\r\n\r\nimport loginLayout from './layouts/LoginLayout';\r\nimport Login from './components/login';\r\n\r\nimport MainLayout from './layouts/MainLayout';\r\n\r\nexport default () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const user = useSelector( state => state.user);\r\n\r\n  React.useEffect( () => {\r\n    const sessionStorageObj = sessionStorage.getItem(\r\n      createSessioStorageKey()\r\n    )\r\n    if(sessionStorageObj){\r\n      dispatch(userSlice.actions.set(JSON.parse(sessionStorageObj)));\r\n    }\r\n\r\n\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {!user.jwt ? loginLayout(Login) : <MainLayout />}\r\n    </React.Fragment>\r\n  )\r\n};\r\n","import { \r\n    configureStore, combineReducers\r\n} from '@reduxjs/toolkit';\r\n\r\nimport { userSlice } from './user';\r\nimport { doorsSlice } from './doors';\r\nimport { floorsSlice } from './floors';\r\nimport { blocksSlice } from './blocks';\r\nimport { placesSlice } from './places';\r\nimport { personsSlice } from './persons';\r\nimport { departmentsSlice } from './departments';\r\nimport { loadingSlice, notificationsSlice } from './ui';\r\nimport { personTagIDsSlice } from './personTagID';\r\nimport { rulesSlice} from './rules';\r\nimport { logsSlice } from './logs';\r\n\r\nexport const store = configureStore({\r\n    reducer: combineReducers({\r\n        user: userSlice.reducer,\r\n        doors: doorsSlice.reducer,\r\n        floors: floorsSlice.reducer,\r\n        blocks: blocksSlice.reducer,\r\n        places: placesSlice.reducer,\r\n        persons: personsSlice.reducer,\r\n        departments: departmentsSlice.reducer,\r\n        notifications: notificationsSlice.reducer,\r\n        loading: loadingSlice.reducer,\r\n        tags: personTagIDsSlice.reducer,\r\n        rules: rulesSlice.reducer,\r\n        logs: logsSlice.reducer\r\n    })\r\n});\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n// frontend-state management store implementation\r\nimport { Provider } from 'react-redux'\r\nimport {store} from './store'\r\n\r\n// localization settings\r\nimport { ConfigProvider } from 'antd';\r\nimport trTr from 'antd/es/locale/tr_TR';\r\n\r\nReactDOM.render(\r\n      <Provider store={store}>\r\n        <ConfigProvider locale={trTr}>\r\n          <App />\r\n        </ConfigProvider>\r\n      </Provider>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}